<mvc:View
	xmlns:core="sap.ui.core"
	controllerName="waseem.ui.controller.Profile"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:f="sap.ui.layout.form"
>
	<Page
		showNavButton="true"
		navButtonPress=".onGoBackFromProfile"
	>
		<headerContent>
			<!-- added  edit button  -->
			<Button
				visible="false"
				text="{i18n>editButtonText}"
				id="editButton"
				icon="sap-icon://edit"
				iconFirst="false"
				press=".onProfileEditButtonPress"
			/>
		</headerContent>
		<VBox
			width="100%"
			justifyContent="Center"
			class="sapUiSmallMargin"
		>
			<HBox
				width="100%"
				wrap="Wrap"
				justifyContent="Center"
				alignItems="Center"
			>
				<Label
					text="{i18n>customerIDSelectLabel}"
					class="sapUiLargeMarginEnd"
				/>
				<ComboBox
					id="customersList"
					change=".onCustomerProfileSelected"
					items="{
						path: 'customers>/',
						sorter: {
							path: 'CustomerID'
						}
					}"
				>
					<core:Item
						key="{customers>CustomerID}"
						text="{customers>CustomerID}"
					/>
				</ComboBox>
			</HBox>
			<f:Form
				title="{i18n>profileDetailsTitle}"
				visible="{formVisibility>/visible}"
			>
				<f:layout>
					<f:ResponsiveGridLayout columnsM="2"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer title="{i18n>personalDetailsTitle}">
						<f:formElements>
							<f:FormElement
								label="{i18n>customerIDLabel}"
								visible="true"
							>
								<f:fields>
									<Input
										id="CustomerID"
										editable="false"
										width="200px"
										value="{profile>/CustomerID}"
									/>
								</f:fields>
							</f:FormElement>
							<f:FormElement
								label="{i18n>customerNameLabel}"
								visible="true"
							>
								<f:fields>
									<Input
										id="customerName"
										valueLiveUpdate="true"
										change="isValidName"
										editable="{profileEditable>/editable}"
										width="200px"
										value="{profile>/Name}"
									/>
								</f:fields>
							</f:FormElement>
							<f:FormElement
								label="{i18n>dobLabel}"
								visible="true"
							>
								<f:fields>
									<DateTimePicker
										id="dateOfBirth"
										width="200px"
										value="{profile>/DOB}"
										editable="{profileEditable>/editable}"
									/>
								</f:fields>
							</f:FormElement>
							<f:FormElement
								label="{i18n>registeredDateLabel}"
								visible="true"
							>
								<f:fields>
									<DateTimePicker
										editable="false"
										id="customerRedistrationDatePickerDisplay"
										value="{profile>/RegisteredOn}"
										displayFormat="MMM dd, yyyy"
										width="200px"
										class="sapUiSmallMarginBottom"
									/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer title="{i18n>contactDetailsLabel}">
						<f:formElements>
							<f:FormElement
								label="Email"
								visible="true"
							>
								<f:fields>
									<Input
										id="customerEmail"
										change=".isValidEMail"
										valueStateText="{i18n>invalidEmail}"
										type="Email"
										editable="{profileEditable>/editable}"
										width="200px"
										value="{profile>/Email}"
									/>
								</f:fields>
							</f:FormElement>
							<f:FormElement
								label="{i18n>mobileNumberLabel}"
								visible="true"
							>
								<f:fields>
									<Input
										id="customerMobileNumber"
										change="onValidPhoneNumber"
										valueStateText="{i18n>invalidPhoneNumber}"
										editable="{profileEditable>/editable}"
										width="200px"
										value="{profile>/MobileNumber}"
									/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer title="{i18n>addressLabel}">
						<f:formElements>
							<f:FormElement visible="true">
								<f:fields>
									<VBox>
										<HBox
											wrap="Wrap"
											width="100%"
										>
											<Input
												id="flat"
												placeholder="No."
												width="50px"
												editable="{profileEditable>/editable}"
												type="Number"
												value="{profile>/flat}"
											/>
											<Input
												id="street"
												placeholder="Street"
												editable="{profileEditable>/editable}"
												type="Text"
												value="{profile>/street}"
											/>
										</HBox>
										<HBox
											wrap="Wrap"
											width="100%"
										>
											<Input
												id="area"
												width="100px"
												placeholder="Area"
												editable="{profileEditable>/editable}"
												type="Text"
												value="{profile>/area}"
											/>
											<Input
												id="district"
												width="150px"
												placeholder="District"
												editable="{profileEditable>/editable}"
												type="Text"
												value="{profile>/district}"
											/>
											<Input
												id="city"
												width="120px"
												placeholder="City"
												editable="{profileEditable>/editable}"
												type="Text"
												value="{profile>/city}"
											/>
											<Input
												id="pin"
												width="100px"
												placeholder="Pin"
												editable="{profileEditable>/editable}"
												type="Number"
												value="{profile>/pin}"
											/>
										</HBox>
										<HBox
											wrap="Wrap"
											width="100%"
										>
											<Input
												id="state"
												placeholder="State"
												editable="{profileEditable>/editable}"
												type="Text"
												value="{profile>/state}"
											/>
											<Input
												id="country"
												placeholder="Country"
												editable="{profileEditable>/editable}"
												type="Text"
												value="{profile>/country}"
											/>
										</HBox>
									</VBox>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
			<Text
				visible="{= !${formVisibility>/visible}}"
				text="{i18n>profileSelectLabel}"
				width="100%"
				textAlign="Center"
				class="sapUiLargeMarginTop"
			/>
		</VBox>
	</Page>
</mvc:View>